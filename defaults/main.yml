---
# TODO: can the ingress be installed via argocd?
# TODO: argocd ingress would need to be bootstrapped later on
ingress:
  name: ingress-controller
  namespace: ingress
  chart:
    ref: ingress-nginx/ingress-nginx
    version: 4.4.0
  replicas: 2
  nodeport:
    http: 30080
    https: 30443
  defaultBackend:
    replicas: 2

# TODO: can longhorn be installed via argocd?
longhorn:
  name: longhorn
  namespace: longhorn-system
  chart:
    ref: longhorn/longhorn
    version: 1.3.2

argocd:
  name: argocd
  namespace: argocd
  chart:
    ref: argo/argocd
    version: 5.13.9
  bootstrap:
    project: argocd
    url: git@github.com:OpenAlcoholics/argocd-bootstrap.git
    sync_options:
      prune: true
      selfHeal: true
  projects:
    - name: argocd
      namespace: argocd
      spec:
        clusterResourceWhitelist:
          - group: "argoproj.io/v1alpha1"
            kind: "*"
        destinations:
          - namespace: "argocd"
            server: "*"
        sourceRepos:
          - "*"
    # TODO: create other AppProjects via argoCD

namespaces:
  - ingress
  - longhorn-system
  - argocd
